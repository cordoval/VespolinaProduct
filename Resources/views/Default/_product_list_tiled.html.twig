<div class="row">
    <div class="span12">
        <div class="row">
            {% for product in productsPagination %}
            <div class="span3 v-product-tile">
                <div class="thumbnail">
                    <a href="{{ path('vespolina_product_detail', { 'slug': product.slug }) }}">
                        {% include 'VespolinaProductBundle:Default:_product_primary_media.html.twig' with {'product': product } %}
                    </a>
                </div>
                <div class="caption">
                    <span class="v-product-name">
                        <a href="{{ path('vespolina_product_detail', { 'slug': product.slug }) }}">
                            {{ product.name }}
                        </a>
                    </span>
                    <div>
                        <a class="btn" href="{{ path('vespolina_cart_add_product', {'productId': product.id}) }}">Add to Cart</a>
                        <span class="v-product-price">
                            {% include 'VespolinaProductBundle:Default:_product_prices.html.twig' with {'product': product } %}
                        </span>
                    </div>
                </div>
            </div>
                {% if loop.index is divisibleby (3) %}
        </div>
        <div class="row">
                {% endif %}
            {% else %}
            No products loaded.
            {% endfor %}
        </div>
        <div class="row">
            <div class="navigation">
                {{ productsPagination.render()|raw }}
            </div>
        </div>
    </div>
</div>
